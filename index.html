<!DOCTYPE html>
<html>
<head>
	<title>Водолей</title>
    <script type="text/javascript">
    	function answer() {
    		var amax = Number(document.getElementById("a").value);
    		var bmax = Number(document.getElementById("b").value);
    		var need = [];
    		var need2 = [];
    		for (var i = 1; i <= 16; i++) {
    			need[i] = document.getElementById(""+i).value;
    			need2[i] = false;
    		}
    		var a = 0;
    		var b = 0;
    		var amass = [];
    		var bmass = [];
    		var dmass = [];
    		var jj = 0;
    		while (true) {
    			dmass[jj] = "";
    			if (a == 0) {
    				a = amax;
    				dmass[jj] = "Наполнить сосуд A";
    			}
    			if (b >= bmax && dmass[jj] == "") {
    				b = 0;
    				dmass[jj] = "Опустошить сосуд B";
    			}
    			if (dmass[jj] == "") {
    			    b += a;
    			    a = b - bmax;
    			    if (b > bmax)
    			    	b = bmax;
    			    if (a < 0)
    			    	a = 0;
    			    dmass[jj] = "Перелить из A в B";
    		    }
    			for (var i = 1; i <= 16; i++) {
    			    if ((String(a) == need[i] || String(b) == need[i]) || need[i] == "") {
    			    	need2[i] = true;
    			    }
    		    }
    		    var j = 0;
    		    for (var i = 1; i <= 16; i++) {
                    if (need2[i] == true) {
                    	j++;
                    }
    		    }
    		    amass[jj] = a;
    		    bmass[jj] = b;
    		    if (j >= 16) {
    		    	break;
    		    }
    		    jj++;
    		}
    		document.getElementById("output").innerHTML = "";
		ttt = 0;
    		for (var i in dmass) {
	            ttt++;
    		    document.getElementById("output").innerHTML += ttt+": "+dmass[i]+". A = "+amass[i]+". B = "+bmass[i]+".<br>";
    	    }
    	}
    </script>
</head>
<body>
    A = <input type="text" id="a">,
    B = <input type="text" id="b">,
    ? = <input type="text" id="1" style="width: 20px;" maxlength="3">, <input type="text" id="2" style="width: 20px;" maxlength="3"> , <input type="text" id="3" style="width: 20px;" maxlength="3"> , <input type="text" id="4" style="width: 20px;" maxlength="3">, <input type="text" id="5" style="width: 20px;" maxlength="3">, <input type="text" id="6" style="width: 20px;" maxlength="3">, <input type="text" id="7" style="width: 20px;" maxlength="3">, <input type="text" id="8" style="width: 20px;" maxlength="3">, <input type="text" id="9" style="width: 20px;" maxlength="3">, <input type="text" id="10" style="width: 20px;" maxlength="3">, <input type="text" id="11" style="width: 20px;" maxlength="3">, <input type="text" id="12" style="width: 20px;" maxlength="3">, <input type="text" id="13" style="width: 20px;" maxlength="3">, <input type="text" id="14" style="width: 20px;" maxlength="3">, <input type="text" id="15" style="width: 20px;" maxlength="3">, <input type="text" id="16" style="width: 20px;" maxlength="3"><br>
    <input type="button" id="submit" value="Ответ" onclick="answer()"><br>
    <p id="output"></p>
</body>
</html>
